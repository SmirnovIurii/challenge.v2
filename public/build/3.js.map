{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core'; \r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HomePage } from './home';\r\n\r\n@NgModule({\r\n\r\ndeclarations: [HomePage],\r\nimports: [IonicPageModule.forChild(HomePage)]\r\n})\r\nexport class HomeModule {\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\r\nimport { NavController, IonicPage, AlertController, Alert, NavPush } from 'ionic-angular';\r\nimport { TodoListService } from '../../services/todolist/todolist.service';\r\nimport { Observable } from 'rxjs';\r\nimport { Todo } from '../../models/Todo/todo.model';\r\nimport { map } from 'rxjs/operators';\r\nimport {AngularFireAuth} from 'angularfire2/auth'\r\nimport { ToastService } from '../../services/toast/toast.service';\r\nimport { AuthService } from '../../services/auth/auth.service'\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\n\r\nexport class HomePage {\r\n  todos:string;\r\n  count: number;\r\n  countFinish: number;\r\n  Listoftodo$: Observable<Todo[]>;\r\n  ListoftodoFinish$: Observable<Todo[]>;\r\n  Active: boolean;\r\n  constructor(\r\n    private alertCtrl: AlertController,\r\n    public navCtrl: NavController,\r\n    private todolist: TodoListService,\r\n    private AngAuth: AngularFireAuth,\r\n    private toast: ToastService,\r\n    private authService: AuthService,\r\n    ) {\r\n    \r\n      \r\n      this.todos = \"Active\";\r\n      this.AngAuth.authState.subscribe(data => {\r\n      if (data && data.email && data.uid){\r\n        this.toast.show(`Hello, ${data.email}`,5000);\r\n      }\r\n     else{\r\n        this.toast.show('You must login')\r\n     }\r\n    })\r\n     \r\n    \r\n    this.Listoftodo$ = this.todolist.\r\n    getTodoList().  \r\n    snapshotChanges().  \r\n    pipe(map(\r\n      changes => {\r\n        return changes.map(c => ({\r\n          key: c.payload.key, ...c.payload.val(),\r\n        }));\r\n       }\r\n      ));\r\n      this.Listoftodo$.subscribe(result => {this.count = result.length; this.Active = true;});\r\n      this.ListoftodoFinish$ = this.todolist.\r\n      getTodoListFinish().  \r\n      snapshotChanges().  \r\n      pipe(map(\r\n        changes => {\r\n          return changes.map(c => ({\r\n            key: c.payload.key, ...c.payload.val(),\r\n          }));\r\n         }\r\n        ));     \r\n\r\n  }\r\n countFinished(){\r\n    this.ListoftodoFinish$.subscribe(result => {this.count = result.length; this.Active = false;});\r\n  }\r\n countInProgres(){\r\n    this.Listoftodo$.subscribe(result => {this.count = result.length; this.Active = true;});\r\n  }   \r\n  presentAlert(message: string) {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Login info',\r\n      subTitle: message,\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  alertWithAuth(){\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Login',\r\n      message: 'You must login to make changes',\r\n      buttons: [\r\n        {\r\n          text: 'Login',\r\n          handler: () => {\r\n            this.navCtrl.push('LoginPage');\r\n          }\r\n        },\r\n        {\r\n          text: 'Register',\r\n          handler: () => {\r\n            this.navCtrl.push('RegisterPage');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    alert.present();\r\n  }  \r\n  \r\n\r\n  addTodo(){\r\n    var myDate: string = new Date().toISOString();\r\n    \r\n    if (this.authService.authenticated) {this.navCtrl.push('AddTodoPage')}\r\n    else {this.alertWithAuth();}\r\n  }\r\n\r\n\r\n\r\nlogout(){\r\n  this.AngAuth.auth.signOut();\r\n  this.presentAlert('Good Bye!');\r\n}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}